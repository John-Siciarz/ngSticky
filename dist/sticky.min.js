!function(){"use strict";var a=angular.module("sticky",[]);a.directive("sticky",["$window",function(a){return{restrict:"A",scope:{disabled:"=disabledSticky"},link:function(c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;c.initSticky=function(){switch(o=!1,v=a.matchMedia,k=angular.element(document.body),j=d[0],l=document.documentElement,y=document.querySelector(e.container)||window,z=angular.element(y),f=e.mediaQuery||!1,g=e.stickyClass||"",h=e.unstickyClass||"",i=e.bodyClass||"",w=void 0!==e.useplaceholder,n=d.attr("style")||"",r="string"==typeof e.offset?parseInt(e.offset.replace(/px;?/,"")):0,s="string"==typeof e.anchor?e.anchor.toLowerCase().trim():"top",t="string"==typeof e.confine?e.confine.toLowerCase().trim():"false",t="true"===t,m={zIndex:d.css("z-index"),top:d.css("top"),width:d.css("width"),position:d.css("position"),marginTop:d.css("margin-top"),cssLeft:d.css("left")},s){case"top":case"bottom":break;default:s="top"}u=c.getTopOffset(j),angular.element(z).on("scroll",c.checkIfShouldStick),angular.element(a).on("resize",c.$apply.bind(c,c.onResize)),c.$on("$destroy",c.onDestroy)},c.getScrollTop=function(){if("undefined"!=typeof a.pageYOffset)return a.pageYOffset;var b=document.body,c=document.documentElement;return c=c.clientHeight?c:b,c.scrollTop},c.getTopOffset=function(a){if(a.getBoundingClientRect)return a.getBoundingClientRect().top+document.documentElement.scrollTop;var b=0;if(a.offsetParent)do b+=a.offsetTop,a=a.offsetParent;while(a);return b},c.getBottomOffset=function(a){return a.offsetTop+a.clientHeight},c.shouldStickWithLimit=function(b){if("true"===b){var c=j.offsetHeight,d=a.innerHeight;return d-(c+parseInt(r))<0}return!1},c.onResize=function(){if(m.offsetWidth=j.offsetWidth,c.unStickElement(),c.checkIfShouldStick(),o){var b=a.getComputedStyle(j.parentElement,null),e=j.style&&j.style.width||j.parentElement.offsetWidth-b.getPropertyValue("padding-right").replace("px","")-b.getPropertyValue("padding-left").replace("px","");d.css("width",e+"px")}},c.onDestroy=function(){angular.element(z).off("scroll",c.checkIfShouldStick),angular.element(a).off("resize",c.onResize),i&&k.removeClass(i),x&&x.remove()},c.getClosest=function(a,b){var d,c=1e3;for(var e in a){var f=Math.abs(b-a[e]);f<c&&(c=f,d=a[e])}return d},c.stickElement=function(){var a,b;if(a=d[0].getBoundingClientRect(),b=a.left,m.offsetWidth=j.offsetWidth,o=!0,i&&k.addClass(i),h&&d.hasClass(h)&&d.removeClass(h),g&&d.addClass(g),w){x=angular.element("<div>");var c=d[0].offsetHeight;x.css("height",c+"px"),d.after(x)}d.css("z-index","10").css("width",j.offsetWidth+"px").css("position","fixed").css(s,r+"px").css("left",b+"px").css("margin-top",0),"bottom"===s&&d.css("margin-bottom",0)},c.checkIfShouldStick=function(){if(c.disabled===!0)return c.unStickElement(),!1;var b,d,g,h;if(f&&!v("("+f+")").matches&&!v(f).matches)return void(o&&c.unStickElement());if("top"===s?(h=a.pageYOffset||l.scrollTop||y.scrollTop,b=h-(l.clientTop||z.clientTop||0),d=t===!0?b>=p&&b<=q:b>=p):(g=a.pageYOffset+a.innerHeight,d=g<=p),!d||c.shouldStickWithLimit(e.stickLimit)||o){if(!d&&o){var i,j,k;j=[p,q],k=c.getClosest(j,b),k===p?i="top":k===q&&(i="bottom"),c.unStickElement(i,b)}}else c.stickElement()},c.unStickElement=function(a){d.attr("style",n),o=!1,i&&k.removeClass(i),g&&d.removeClass(g),h&&d.addClass(h),"top"===a?d.css("z-index",m.zIndex).css("width","").css("top",m.top).css("position",m.position).css("left",m.cssLeft).css("margin-top",m.marginTop):"bottom"===a&&t===!0&&d.css("z-index",m.zIndex).css("width","").css("top","").css("bottom",0).css("position","absolute").css("left",m.cssLeft).css("margin-top",m.marginTop).css("margin-bottom",m.marginBottom),x&&x.remove()},c.$watch(function(){return c.disabled===!0?void c.unStickElement():(o||(u="top"===s?c.getTopOffset(j):c.getBottomOffset(j)),"top"===s?u+c.getScrollTop():u)},function(a,b){if("undefined"==typeof p&&0!==a&&!o){p=a-r,t&&d.parent().css({position:"relative"});var e=d.parent()[0],f=parseInt(e.offsetHeight),g=parseInt(d.css("margin-bottom").replace(/px;?/,""))||0;q=f-(j.offsetTop+j.offsetHeight)+r+g,c.checkIfShouldStick()}}),c.initSticky()}}}]),window.matchMedia=window.matchMedia||function(){var a="angular-sticky: This browser does not support matchMedia, therefore the minWidth option will not work on this browser. Polyfill matchMedia to fix this issue.";return window.console&&console.warn&&console.warn(a),function(){return{matches:!0}}}()}();